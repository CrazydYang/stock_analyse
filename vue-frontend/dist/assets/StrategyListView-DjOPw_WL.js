import{d as L,a as m,C as N,c,b as t,H as D,I as E,f as y,w as l,E as T,i as r,e as a,F as j,A as q,k as f,u as F,o as i,g as I,t as g,_ as M}from"./index-BlSsHgC1.js";import{g as O}from"./quantBacktestApi-Dr6mgPj_.js";const A={class:"strategy-list-view"},H={class:"strategy-list-panel"},J={class:"card-header"},P={key:0,class:"empty-data"},R={key:1,class:"strategy-cards"},W={class:"strategy-detail"},$={class:"strategy-info"},z={key:0,class:"strategy-params"},G={class:"strategy-actions"},K=L({__name:"StrategyListView",setup(Q){const u=F(),_=m([]),d=m(!1),v=s=>Object.entries(s).map(([e,o])=>({name:e,description:o.description,type:o.type,default:typeof o.default=="object"?JSON.stringify(o.default):o.default})),b=()=>{u.push("/backtest-strategy")},h=s=>{u.push({path:"/quant/backtest-strategy",query:{strategy:s}})},k=async()=>{d.value=!0;try{const s=await O();_.value=s}catch(s){console.error("加载策略列表失败:",s),T.error("加载策略列表失败")}finally{d.value=!1}};return N(()=>{k()}),(s,e)=>{const o=r("el-button"),w=r("el-empty"),p=r("el-table-column"),C=r("el-table"),S=r("el-collapse-item"),B=r("el-collapse"),V=r("el-card"),x=E("loading");return i(),c("div",A,[e[4]||(e[4]=t("div",{class:"page-header"},[t("h1",null,"回测策略列表"),t("p",null,"查看所有可用的回测策略及其参数")],-1)),t("div",H,[D((i(),y(V,null,{header:l(()=>[t("div",J,[e[1]||(e[1]=t("span",null,"可用策略",-1)),a(o,{type:"primary",onClick:b},{default:l(()=>[...e[0]||(e[0]=[f("创建回测任务",-1)])]),_:1})])]),default:l(()=>[_.value.length===0&&!d.value?(i(),c("div",P,[a(w,{description:"暂无可用策略"})])):(i(),c("div",R,[a(B,{accordion:""},{default:l(()=>[(i(!0),c(j,null,q(_.value,n=>(i(),y(S,{key:n.name,title:n.description,name:n.name},{default:l(()=>[t("div",W,[t("div",$,[t("h3",null,"策略名称: "+g(n.name),1),t("p",null,g(n.description),1)]),n.params?(i(),c("div",z,[e[2]||(e[2]=t("h4",null,"参数列表:",-1)),a(C,{data:v(n.params),border:"",stripe:""},{default:l(()=>[a(p,{prop:"name",label:"参数名称",width:"180"}),a(p,{prop:"description",label:"参数说明",width:"250"}),a(p,{prop:"type",label:"类型",width:"100"}),a(p,{prop:"default",label:"默认值"})]),_:2},1032,["data"])])):I("",!0),t("div",G,[a(o,{type:"primary",onClick:U=>h(n.name)},{default:l(()=>[...e[3]||(e[3]=[f(" 使用此策略创建回测 ",-1)])]),_:2},1032,["onClick"])])])]),_:2},1032,["title","name"]))),128))]),_:1})]))]),_:1})),[[x,d.value]])])])}}}),Z=M(K,[["__scopeId","data-v-ebdba3e1"]]);export{Z as default};
